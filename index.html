<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduExplain</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
        }
        .custom-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-md">
        <header class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">EduExplain</h1>
            <p class="text-gray-600">Apprendre devient simple et amusant ! üéì</p>
        </header>

        <main class="bg-white rounded-lg p-6 custom-shadow">
            <!-- Formulaire principal -->
            <form id="questionForm" class="space-y-6">
                <!-- Champ pr√©nom -->
                <div>
                    <label for="name" class="block text-sm font-medium text-gray-700 mb-2">Ton pr√©nom</label>
                    <input type="text" id="name" name="name" required
                        class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                </div>

                <!-- S√©lection d'√¢ge -->
                <div>
                    <label for="age" class="block text-sm font-medium text-gray-700 mb-2">Ton √¢ge</label>
                    <select id="age" name="age" required
                        class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        <option value="">Choisis ton √¢ge</option>
                        <option value="enfant">6-11 ans</option>
                        <option value="ado">12-15 ans</option>
                        <option value="lyceen">16-18 ans</option>
                        <option value="adulte">18+ ans</option>
                    </select>
                </div>

                <!-- Zone de question -->
                <div>
                    <label for="question" class="block text-sm font-medium text-gray-700 mb-2">Ta question</label>
                    <textarea id="question" name="question" rows="4" required
                        class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                        placeholder="Pose ta question ici..."></textarea>
                </div>

                <!-- Upload d'image -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Image (optionnel)</label>
                    <div class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md">
                        <div class="space-y-1 text-center">
                            <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48">
                                <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            <div class="flex text-sm text-gray-600">
                                <label for="file-upload" class="relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500">
                                    <span>T√©l√©charge une image</span>
                                    <input id="file-upload" name="file-upload" type="file" accept="image/*" class="sr-only">
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bouton d'envoi -->
                <button type="submit"
                    class="w-full gradient-bg text-white font-bold py-3 px-4 rounded-md hover:opacity-90 transition duration-300">
                    Obtenir l'explication üöÄ
                </button>
            </form>

            <!-- Zone de r√©ponse -->
            <div id="response" class="mt-8 hidden">
                <h3 class="text-lg font-medium text-gray-900 mb-4">Voici ton explication :</h3>
                <div id="explanation" class="prose max-w-none bg-gray-50 rounded-lg p-4">
                    <!-- La r√©ponse de l'API sera ins√©r√©e ici -->
                </div>
            </div>
        </main>
    </div>

    <script>
        document.getElementById('questionForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const name = document.getElementById('name').value;
            const age = document.getElementById('age').value;
            const question = document.getElementById('question').value;
            const fileInput = document.getElementById('file-upload');
            const responseDiv = document.getElementById('response');
            const explanationDiv = document.getElementById('explanation');

            // Pr√©paration des donn√©es pour l'API
            let prompt = `En tant que tuteur p√©dagogique s'adressant √† ${name}, qui a le niveau ${age}, explique de mani√®re adapt√©e et personnalis√©e : ${question}. 
            Utilise un langage appropri√© √† l'√¢ge, des analogies pertinentes et des emojis pour rendre l'explication plus engageante.`;

            try {
                // Remplacez YOUR_API_KEY par votre v√©ritable cl√© API ChatGPT

                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer sk-K1jsCZ5n7tn6W0Ma1FbqR9FJbxFBLdjo7chdESsRsXT3BlbkFJ17XPV0uVpzl-rb2FFi2NvIUb1pr_YpwYrhGtlHHw0A' // Remplacez par votre nouvelle cl√© API
                    },
                    body: JSON.stringify({
                        model: "gpt-4-turbo-preview",
                        messages: [{
                            role: "user",
                            content: prompt
                        }],
                        temperature: 0.7
                    })
                });
             
                const data = await response.json();
                const explanation = data.choices[0].message.content;

                // Affichage de la r√©ponse
                explanationDiv.innerHTML = explanation;
                responseDiv.classList.remove('hidden');

            } catch (error) {
                console.error('Erreur:', error);
                explanationDiv.innerHTML = "D√©sol√©, une erreur s'est produite. Veuillez r√©essayer.";
                responseDiv.classList.remove('hidden');
            }
        });

        // Pr√©visualisation de l'image
        document.getElementById('file-upload').addEventListener('change', function(e) {
            if (e.target.files && e.target.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    // Vous pouvez ajouter ici le code pour afficher l'aper√ßu de l'image
                };
                reader.readAsDataURL(e.target.files[0]);
            }
        });
    </script>
</body>
</html>
